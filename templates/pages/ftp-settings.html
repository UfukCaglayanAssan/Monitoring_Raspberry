<!-- SFTP AyarlarÄ± SayfasÄ± Ä°Ã§eriÄŸi -->
<div class="ftp-settings-page">
    <div class="page-header">
        <h2>ğŸ”’ SFTP AyarlarÄ±</h2>
        <p>VeritabanÄ± yedekleme iÃ§in SFTP konfigÃ¼rasyonunu yÃ¶netin (GÃ¼venli)</p>
    </div>

    <div class="config-container full-width">
        <div class="config-card">
            <div class="config-header">
                <h3>SFTP KonfigÃ¼rasyonu</h3>
                <div class="status-indicator">
                    <span id="ftpStatus" class="status-inactive">Pasif</span>
                </div>
            </div>

            <div class="current-ftp-info">
                <h4>Son GÃ¶nderim</h4>
                <div class="ftp-display">
                    <span id="lastSentAt" class="ftp-info">HenÃ¼z gÃ¶nderim yapÄ±lmadÄ±</span>
                    <button id="testFtp" class="btn btn-sm btn-secondary">
                        <i class="fas fa-plug"></i> BaÄŸlantÄ±yÄ± Test Et
                    </button>
                </div>
            </div>

            <form id="ftpConfigForm" class="config-form">
                <div class="form-group">
                    <label for="ftpHost">SFTP Sunucu Adresi *</label>
                    <input type="text" id="ftpHost" name="ftp_host" placeholder="sftp.example.com veya 192.168.1.100" required>
                    <small class="form-help">SFTP sunucusunun IP adresi veya domain adÄ±</small>
                </div>

                <div class="form-group">
                    <label for="ftpPort">SFTP Port *</label>
                    <input type="number" id="ftpPort" name="ftp_port" value="22" min="1" max="65535" required>
                    <small class="form-help">VarsayÄ±lan SFTP portu: 22 (SSH)</small>
                </div>

                <div class="form-group">
                    <label for="ftpUsername">KullanÄ±cÄ± AdÄ± *</label>
                    <input type="text" id="ftpUsername" name="ftp_username" placeholder="kullanici_adi" required>
                    <small class="form-help">SFTP sunucusuna giriÅŸ iÃ§in kullanÄ±cÄ± adÄ±</small>
                </div>

                <div class="form-group">
                    <label for="ftpPassword">Åifre *</label>
                    <div class="password-input-group">
                        <input type="password" id="ftpPassword" name="ftp_password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                        <button type="button" id="togglePassword" class="btn-toggle-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <small class="form-help">SFTP sunucusuna giriÅŸ iÃ§in ÅŸifre (ÅŸifreli olarak saklanÄ±r)</small>
                </div>

                <div class="form-group">
                    <label>Otomatik GÃ¶nderim</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="ftpActive" name="is_active">
                            <span class="checkbox-text">Her gÃ¼n saat 00:00'da otomatik olarak veritabanÄ±nÄ± gÃ¶nder</span>
                        </label>
                    </div>
                    <small class="form-help">Aktif edildiÄŸinde, battery_data.db dosyasÄ± her gece otomatik olarak SFTP sunucusuna gÃ¼venli ÅŸekilde yedeklenecektir</small>
                </div>

                <div class="form-actions">
                    <button type="button" id="sendNow" class="btn btn-secondary">
                        <i class="fas fa-paper-plane"></i> Åimdi GÃ¶nder
                    </button>
                    <button type="button" id="saveFtpConfig" class="btn btn-primary">
                        <i class="fas fa-save"></i> AyarlarÄ± Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>

</div>

<script src="{{ url_for('static', filename='js/ftp-settings.js') }}"></script>

