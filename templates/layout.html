<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Akü İzleme Sistemi{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sol Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-container">
                    <img src="{{ url_for('static', filename='images/logo_tescom_white_tr.svg') }}" alt="Tescom Logo" class="sidebar-logo">
                </div>
                <h3>MENÜ</h3>
            </div>
            
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item active">
                        <a href="#" class="nav-link" data-page="summary">
                            <i class="fas fa-home"></i>
                            <span data-i18n="menu.summary">Özet</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="alarms">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span data-i18n="menu.alarms">Alarmlar</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="batteries">
                            <i class="fas fa-battery-three-quarters"></i>
                            <span data-i18n="menu.batteries">Bataryalar</span>
                        </a>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-toggle="submenu">
                            <i class="fas fa-file-alt"></i>
                            <span data-i18n="menu.logs">Loglar</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li>
                                <a href="#" class="submenu-link" data-page="battery-logs">
                                    <i class="fas fa-battery-three-quarters"></i>
                                    <span data-i18n="menu.batteryData">Batarya Verileri</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="submenu-link" data-page="arm-logs">
                                    <i class="fas fa-industry"></i>
                                    <span data-i18n="menu.armData">Kol Verileri</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="configuration">
                            <i class="fas fa-cog"></i>
                            <span data-i18n="menu.configuration">Konfigürasyon</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="data-retrieval">
                            <i class="fas fa-database"></i>
                            <span data-i18n="menu.dataRetrieval">Veri Alma</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="mail-management">
                            <i class="fas fa-envelope"></i>
                            <span data-i18n="menu.mailManagement">Mail Yönetimi</span>
                        </a>
                    </li>
                    <li class="nav-item has-submenu">
                        <a href="#" class="nav-link" data-toggle="submenu">
                            <i class="fas fa-network-wired"></i>
                            <span data-i18n="menu.networkSettings">Ağ Ayarları</span>
                            <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li>
                                <a href="#" class="submenu-link" data-page="trap-settings">
                                    <i class="fas fa-broadcast-tower"></i>
                                    <span data-i18n="menu.trapSettings">SNMP Trap</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="submenu-link" data-page="mail-server-config">
                                    <i class="fas fa-server"></i>
                                    <span data-i18n="menu.mailServerConfig">Mail Sunucu Konfigürasyonu</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="submenu-link" data-page="interface-ip-settings">
                                    <i class="fas fa-globe"></i>
                                    <span data-i18n="menu.interfaceIpSettings">Arayüz IP Ayarları</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="submenu-link" data-page="ftp-settings">
                                    <i class="fas fa-shield-alt"></i>
                                    <span data-i18n="menu.sftpSettings">SFTP Ayarları</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
                
                <div class="nav-divider"></div>
                
                <ul class="nav-list">
                    <li class="nav-item" data-requires-admin>
                        <a href="#" class="nav-link" data-page="user-management">
                            <i class="fas fa-users-cog"></i>
                            <span data-i18n="menu.userManagement">Kullanıcı Yönetimi</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-page="profile">
                            <i class="fas fa-user"></i>
                            <span data-i18n="common.profile">Profil</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Ana İçerik -->
        <main class="main-content">
            <!-- Üst Header -->
            <header class="top-header">
                <div class="header-left">
                    <h1 class="main-title" data-i18n="common.appTitle">Akü İzleme Sistemi</h1>
                </div>
                
                <div class="header-right">
                    <!-- Dil Seçici -->
                    <div class="language-switcher">
                        <button class="lang-btn" id="langTr" data-lang="tr" title="Türkçe">
                            <span>TR</span>
                        </button>
                        <button class="lang-btn" id="langEn" data-lang="en" title="English">
                            <span>EN</span>
                        </button>
                    </div>
                    
                    <!-- Kullanıcı Bilgisi -->
                    <div class="user-info" id="userInfoDropdown">
                        <div class="user-avatar">
                            <span id="userInitial">A</span>
                        </div>
                        <div class="user-details">
                            <div class="user-name" id="userName">Tescom Guest</div>
                            <div class="user-email" id="userEmail">guest@tescombms.com</div>
                        </div>
                        <div class="user-dropdown">
                            <a href="#" class="dropdown-link" data-page="profile">
                                <i class="fas fa-user"></i>
                                <span data-i18n="common.profile">Profil</span>
                            </a>
                            <a href="#" class="dropdown-link" id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i>
                                <span data-i18n="common.logout">Çıkış Yap</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Bildirimler -->
                    <div class="notifications" id="notificationBell" style="cursor: pointer;">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge" id="alarmCount" style="display: none;">0</span>
                    </div>
                    
                </div>
            </header>

            <!-- Sayfa İçeriği -->
            <div class="page-content" id="pageContent">
                {% block content %}
                <!-- Sayfa içeriği buraya yüklenecek -->
                {% endblock %}
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/translation.js') }}"></script>
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
